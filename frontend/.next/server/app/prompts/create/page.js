(()=>{var e={};e.id=171,e.ids=[171],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},9724:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>o});var a=s(260),r=s(8203),i=s(5155),n=s.n(i),l=s(7292),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["prompts",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3872)),"/Users/shraddharao/Development/code/Work/headstarter/Self-Improving-Prompt-Optimization-API/frontend/src/app/prompts/create/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1354)),"/Users/shraddharao/Development/code/Work/headstarter/Self-Improving-Prompt-Optimization-API/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/shraddharao/Development/code/Work/headstarter/Self-Improving-Prompt-Optimization-API/frontend/src/app/prompts/create/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/prompts/create/page",pathname:"/prompts/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},690:(e,t,s)=>{Promise.resolve().then(s.bind(s,3872))},8842:(e,t,s)=>{Promise.resolve().then(s.bind(s,7474))},7474:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(5512),r=s(8009),i=s(3612),n=s(9400),l=s(4590),c=s(7722),o=s(7271),d=s(3623),m=s(8696),p=s(6162),x=s(1894),h=s(6753),u=s(585),v=s(7682),j=s(8678),f=s(3826),b=s(2446),N=s(4825);let g=(0,N.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),w=(0,N.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),y=(0,N.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var _=s(6335),z=s(8531),S=s.n(z);function P(){let[e,t]=(0,r.useState)({name:"",version:"1.0.0",template_text:"",status:"draft",input_schema:void 0,output_schema:void 0,metadata:void 0,parent_version_id:void 0}),[s,N]=(0,r.useState)(""),[z,P]=(0,r.useState)(!1),[k,A]=(0,r.useState)(null),[I,C]=(0,r.useState)(!1),[E,O]=(0,r.useState)(!1),[F,J]=(0,r.useState)([]),[$,D]=(0,r.useState)(""),[R,q]=(0,r.useState)([]),[M,U]=(0,r.useState)(null),[Z,B]=(0,r.useState)(null),[W,T]=(0,r.useState)(!1),[V,G]=(0,r.useState)(!1),[L,H]=(0,r.useState)([]),[X,K]=(0,r.useState)(""),{toast:Q}=(0,d.dj)(),Y=async()=>{if(k)try{T(!0),U(null),B(null);let e={dataset_id:X?parseInt(X):void 0,evaluation_dimensions:["correctness","format","verbosity","safety","consistency"]};console.log("Evaluating prompt:",k.name),console.log("Request:",e);let t=await i.u.evaluations.evaluate(k.name,e);console.log("Evaluation result:",t),U(t),Q({title:"Success",description:`Evaluation completed. Score: ${(t.overall_score||0).toFixed(2)}`}),setTimeout(()=>{let e=document.getElementById("evaluation-results");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300)}catch(t){console.error("Evaluation error:",t);let e=t instanceof Error?t.message:"object"==typeof t&&null!==t&&"data"in t&&"object"==typeof t.data&&null!==t.data&&"detail"in t.data&&"string"==typeof t.data.detail?t.data.detail:"Failed to evaluate prompt";Q({title:"Error",description:`Failed to evaluate prompt "${k.name}": ${e}`,variant:"destructive"})}finally{T(!1)}},ee=async()=>{if(k)try{G(!0),B(null),U(null);let e={dataset_id:X?parseInt(X):void 0,improvement_threshold:.05,max_candidates:3};console.log("Improving prompt:",k.name),console.log("Request:",e);let t=await i.u.evaluations.improve(k.name,e);console.log("Improvement result:",t),B(t),Q({title:"Success",description:`Improvement process completed. Decision: ${t.promotion_decision}`}),setTimeout(()=>{let e=document.getElementById("improvement-results");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300)}catch(t){console.error("Improvement error:",t);let e=t instanceof Error?t.message:"object"==typeof t&&null!==t&&"data"in t&&"object"==typeof t.data&&null!==t.data&&"detail"in t.data&&"string"==typeof t.data.detail?t.data.detail:"Failed to improve prompt";Q({title:"Error",description:`Failed to improve prompt "${k.name}": ${e}`,variant:"destructive"})}finally{G(!1)}},et=async t=>{if(t.preventDefault(),!e.name||!e.template_text){Q({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{e.input_schema&&"string"==typeof e.input_schema&&(e.input_schema=JSON.parse(e.input_schema)),e.output_schema&&"string"==typeof e.output_schema&&(e.output_schema=JSON.parse(e.output_schema)),e.metadata&&"string"==typeof e.metadata&&(e.metadata=JSON.parse(e.metadata));let t=e.metadata||{};s.trim()&&(t.description=s.trim()),e.metadata=Object.keys(t).length>0?t:void 0}catch{Q({title:"Error",description:"Invalid JSON in schemas or metadata",variant:"destructive"});return}try{P(!0);let t=await i.u.prompts.create(e);A(t),Q({title:"Success",description:`Prompt ${t.name} v${t.version} created successfully`})}catch(e){Q({title:"Error",description:e instanceof Error?e.message:"Failed to create prompt",variant:"destructive"})}finally{P(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-zinc-900 to-black",children:(0,a.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8",children:[(0,a.jsxs)(S(),{href:"/prompts",className:"mb-6 inline-flex items-center text-zinc-400 hover:text-white",children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Back to Prompts"]}),(0,a.jsx)("h1",{className:"mb-8 text-3xl font-bold text-white",children:"Create New Prompt"}),k?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(l.Zp,{className:"p-6 bg-green-900/20 border-green-500/50",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:"âœ“ Prompt Created Successfully!"}),(0,a.jsxs)("div",{className:"space-y-2 text-white",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-zinc-400",children:"Name:"})," ",(0,a.jsx)("span",{className:"font-semibold",children:k.name})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-zinc-400",children:"Version:"})," ",(0,a.jsx)("span",{className:"font-semibold",children:k.version})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-zinc-400",children:"Status:"})," ",(0,a.jsx)("span",{className:"font-semibold capitalize",children:k.status})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"text-zinc-400",children:"ID:"})," ",(0,a.jsx)("span",{className:"font-semibold",children:k.id})]})]})]})})}),(0,a.jsxs)(l.Zp,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"space-y-4",children:[L.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-white text-sm mb-2 block",children:"Select Dataset (Optional)"}),(0,a.jsxs)("select",{value:X,onChange:e=>K(e.target.value),className:"w-full rounded-md bg-zinc-800 p-2 text-white text-sm",children:[(0,a.jsx)("option",{value:"",children:"No dataset (use default test cases)"}),L.map(e=>(0,a.jsxs)("option",{value:e.id.toString(),children:[e.name," (",e.entry_count," entries)"]},e.id))]})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,a.jsx)(n.$,{onClick:Y,disabled:W,className:"bg-blue-600 hover:bg-blue-700 text-white",children:W?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Evaluating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Evaluate Prompt"]})}),(0,a.jsx)(n.$,{onClick:ee,disabled:V,className:"bg-purple-600 hover:bg-purple-700 text-white",children:V?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Improving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Improve Prompt"]})})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-zinc-800",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(S(),{href:`/prompts/evaluate?prompt=${encodeURIComponent(k.name)}`,children:(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:"Open Evaluate Page"})}),(0,a.jsx)(S(),{href:`/prompts/improve?prompt=${encodeURIComponent(k.name)}`,children:(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:"Open Improve Page"})}),(0,a.jsx)(S(),{href:`/prompts/${encodeURIComponent(k.name)}`,children:(0,a.jsx)(n.$,{variant:"outline",size:"sm",children:"View Prompt Details"})})]})})]})]}),M?(0,a.jsxs)(l.Zp,{id:"evaluation-results",className:"p-6 border-blue-500/30 bg-blue-950/10",children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5 text-green-400"}),"Evaluation Results"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsx)(p.wr,{label:"Overall Score",value:M.overall_score||0,variant:(M.overall_score||0)>=.8?"success":(M.overall_score||0)>=.6?"warning":"danger"}),(0,a.jsx)(p.wr,{label:"Correctness",value:M.correctness_score||0,variant:"default"}),(0,a.jsx)(p.wr,{label:"Format",value:M.format_score||0,variant:"default"}),(0,a.jsx)(p.wr,{label:"Verbosity",value:M.verbosity_score||0,variant:"default"}),(0,a.jsx)(p.wr,{label:"Safety",value:M.safety_score||0,variant:"default"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-zinc-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-zinc-400 mb-1",children:"Total Examples"}),(0,a.jsx)("p",{className:"text-xl font-bold text-white",children:M.total_examples})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-zinc-400 mb-1",children:"Passed"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-400 flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),M.passed_examples]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-zinc-400 mb-1",children:"Failed"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-red-400 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),M.failed_examples]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-zinc-400 mb-1",children:"Format Pass Rate"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-white",children:[(100*(M.format_pass_rate||0)).toFixed(1),"%"]})]})]}),M.results&&M.results.length>0?(0,a.jsxs)("div",{className:"pt-4 border-t border-zinc-800",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Per-Example Results"}),(0,a.jsx)(p.t,{results:M.results,showDetails:!0})]}):(0,a.jsx)("div",{className:"pt-4 border-t border-zinc-800",children:(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:"No detailed per-example results available. The evaluation may not have included per-example results."})})]})})]}):W?(0,a.jsx)(l.Zp,{className:"p-6 border-blue-500/30 bg-blue-950/10",children:(0,a.jsxs)(l.Wu,{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(h.A,{className:"h-6 w-6 animate-spin text-blue-400 mr-3"}),(0,a.jsx)("span",{className:"text-zinc-400",children:"Evaluating prompt..."})]})}):null,Z?(0,a.jsxs)(l.Zp,{id:"improvement-results",className:"p-6 border-purple-500/30 bg-purple-950/10",children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5 text-purple-400"}),"Improvement Results"]})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(p.eb,{improvement:Z}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Baseline"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-white",children:["Version: ",(0,a.jsx)("span",{className:"text-zinc-400",children:Z.baseline_version})]}),void 0!==Z.baseline_score&&(0,a.jsxs)("p",{className:"text-sm text-white",children:["Score: ",(0,a.jsx)("span",{className:"text-zinc-400",children:Z.baseline_score.toFixed(3)})]})]})]}),Z.best_candidate_id&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Best Candidate"}),(0,a.jsxs)("div",{className:"space-y-2",children:[Z.best_candidate_version&&(0,a.jsxs)("p",{className:"text-sm text-white",children:["Version: ",(0,a.jsx)("span",{className:"text-zinc-400",children:Z.best_candidate_version})]}),void 0!==Z.best_candidate_score&&(0,a.jsxs)("p",{className:"text-sm text-white",children:["Score: ",(0,a.jsx)("span",{className:"text-zinc-400",children:Z.best_candidate_score.toFixed(3)})]}),void 0!==Z.improvement_delta&&(0,a.jsxs)("p",{className:"text-sm text-white",children:["Improvement: ",(0,a.jsxs)("span",{className:Z.improvement_delta>0?"text-green-400":"text-red-400",children:[Z.improvement_delta>0?"+":"",Z.improvement_delta.toFixed(3)]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Candidates"}),(0,a.jsxs)("p",{className:"text-sm text-white",children:["Generated: ",(0,a.jsx)("span",{className:"text-zinc-400",children:Z.candidates_generated})]}),(0,a.jsxs)("p",{className:"text-sm text-white",children:["Evaluated: ",(0,a.jsx)("span",{className:"text-zinc-400",children:Z.candidates_evaluated})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Decision"}),(0,a.jsxs)("p",{className:"text-sm text-white",children:["Status: ",(0,a.jsx)("span",{className:"text-zinc-400 capitalize",children:Z.promotion_decision})]}),Z.promotion_reason&&(0,a.jsx)("p",{className:"text-sm text-zinc-400 mt-2",children:Z.promotion_reason})]})]})]})})]}):V?(0,a.jsx)(l.Zp,{className:"p-6 border-purple-500/30 bg-purple-950/10",children:(0,a.jsxs)(l.Wu,{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(h.A,{className:"h-6 w-6 animate-spin text-purple-400 mr-3"}),(0,a.jsx)("span",{className:"text-zinc-400",children:"Improving prompt..."})]})}):null,(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(n.$,{onClick:()=>{A(null),t({name:"",version:"1.0.0",template_text:"",status:"draft",input_schema:void 0,output_schema:void 0,metadata:void 0,parent_version_id:void 0}),N(""),D(""),C(!1),O(!1),U(null),B(null),K("")},variant:"outline",children:"Create Another"}),(0,a.jsx)(S(),{href:"/prompts",children:(0,a.jsx)(n.$,{className:"bg-white text-black hover:bg-zinc-200",children:"Back to Prompts"})})]})]}):(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(l.Zp,{className:"p-6",children:(0,a.jsxs)("form",{onSubmit:et,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"name",className:"text-white",children:"Name *"}),(0,a.jsx)(c.p,{id:"name",value:e.name,onChange:s=>t({...e,name:s.target.value}),placeholder:"e.g., sentiment_analyzer",required:!0,className:"mt-1 bg-zinc-800 text-white"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Unique identifier for the prompt (lowercase, underscores only)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"version",className:"text-white",children:"Version *"}),(0,a.jsx)(c.p,{id:"version",value:e.version,onChange:s=>t({...e,version:s.target.value}),placeholder:"e.g., 1.0.0",required:!0,className:"mt-1 bg-zinc-800 text-white"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:'Semantic version (e.g., "1.0.0") or custom (e.g., "v2")'})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"description",className:"text-white",children:"Description"}),(0,a.jsx)("textarea",{id:"description",value:s,onChange:e=>N(e.target.value),placeholder:"Describe what this prompt does, its purpose, and any important notes...",rows:3,className:"mt-1 w-full rounded-md bg-zinc-800 p-3 text-white placeholder:text-zinc-500"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Optional description of the prompt's purpose and usage"})]}),F.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"parent_name",className:"text-white",children:"Parent Prompt (Optional)"}),(0,a.jsxs)("select",{id:"parent_name",value:$,onChange:e=>D(e.target.value),className:"mt-1 w-full rounded-md bg-zinc-800 p-2 text-white",children:[(0,a.jsx)("option",{value:"",children:"None - New prompt"}),F.map(e=>(0,a.jsxs)("option",{value:e.name,children:[e.name," (v",e.version,")"]},e.id))]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Select to create a new version of an existing prompt"})]}),$&&R.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"parent_version",className:"text-white",children:"Parent Version"}),(0,a.jsxs)("select",{id:"parent_version",value:e.parent_version_id||"",onChange:s=>t({...e,parent_version_id:s.target.value?parseInt(s.target.value):void 0}),className:"mt-1 w-full rounded-md bg-zinc-800 p-2 text-white",children:[(0,a.jsx)("option",{value:"",children:"Latest version"}),R.map(e=>(0,a.jsxs)("option",{value:e.id,children:["v",e.version," (",e.status,")"]},e.id))]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Select the specific version to base this prompt on"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(o.J,{htmlFor:"template_text",className:"text-white",children:"Template Text *"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xs text-zinc-500",children:[e.template_text.length," characters"]}),(0,a.jsxs)(n.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>O(!E),className:"text-zinc-400 hover:text-white",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-1"}),E?"Hide":"Show"," Preview"]})]})]}),(0,a.jsx)("textarea",{id:"template_text",value:e.template_text,onChange:s=>t({...e,template_text:s.target.value}),required:!0,rows:12,placeholder:"Enter your prompt template here. Use {{variable_name}} for inputs.  Example: Analyze the sentiment of the following text: {{text}} Return a JSON object with 'sentiment' (positive/negative/neutral) and 'confidence' (0-1).",className:"mt-1 w-full rounded-md bg-zinc-800 p-3 text-white placeholder:text-zinc-500 font-mono text-sm"}),(0,a.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-blue-950/20 border border-blue-500/30 rounded",children:[(0,a.jsx)(g,{className:"h-4 w-4 text-blue-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("p",{className:"text-xs text-blue-300",children:["Use ",(0,a.jsx)("code",{className:"bg-zinc-900 px-1 rounded",children:"{{variable_name}}"})," syntax for input variables. The template will be processed with your input data when running the prompt."]})]}),E&&e.template_text&&(0,a.jsxs)(l.Zp,{className:"bg-zinc-950 border-zinc-800",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsx)(l.ZB,{className:"text-sm text-zinc-400",children:"Preview"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("pre",{className:"text-sm text-zinc-300 whitespace-pre-wrap font-mono",children:(()=>{if(!e.template_text)return"";let t=e.template_text,s=t.match(/\{\{(\w+)\}\}/g);return s&&s.forEach(e=>{let s=e.replace(/\{\{|\}\}/g,"");t=t.replace(e,`[${s}]`)}),t})()})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>C(!I),className:"flex items-center justify-between w-full text-left",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Advanced Options"}),I?(0,a.jsx)(w,{className:"h-5 w-5 text-zinc-400"}):(0,a.jsx)(y,{className:"h-5 w-5 text-zinc-400"})]}),I&&(0,a.jsxs)("div",{className:"space-y-6 pt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{htmlFor:"status",className:"text-white",children:"Status"}),(0,a.jsxs)("select",{id:"status",value:e.status,onChange:s=>t({...e,status:s.target.value}),className:"mt-1 w-full rounded-md bg-zinc-800 p-2 text-white",children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-500",children:"Initial status of the prompt (defaults to draft)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-white",children:"Input Schema (JSON)"}),(0,a.jsx)("p",{className:"mt-1 mb-2 text-xs text-zinc-500",children:"JSON schema defining the expected input structure"}),(0,a.jsx)(m.u,{value:e.input_schema||{},onChange:s=>t({...e,input_schema:s}),label:"Input Schema"}),(0,a.jsxs)("div",{className:"mt-2 p-3 bg-zinc-900/50 rounded text-xs text-zinc-400",children:[(0,a.jsx)("strong",{children:"Example:"}),(0,a.jsx)("pre",{className:"mt-1 text-zinc-500",children:`{
  "type": "object",
  "properties": {
    "text": {
      "type": "string",
      "description": "Text to analyze"
    }
  },
  "required": ["text"]
}`})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-white",children:"Output Schema (JSON)"}),(0,a.jsx)("p",{className:"mt-1 mb-2 text-xs text-zinc-500",children:"JSON schema defining the expected output structure"}),(0,a.jsx)(m.u,{value:e.output_schema||{},onChange:s=>t({...e,output_schema:s}),label:"Output Schema"}),(0,a.jsxs)("div",{className:"mt-2 p-3 bg-zinc-900/50 rounded text-xs text-zinc-400",children:[(0,a.jsx)("strong",{children:"Example:"}),(0,a.jsx)("pre",{className:"mt-1 text-zinc-500",children:`{
  "type": "object",
  "properties": {
    "sentiment": {
      "type": "string",
      "enum": ["positive", "negative", "neutral"]
    },
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1
    }
  },
  "required": ["sentiment", "confidence"]
}`})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.J,{className:"text-white",children:"Metadata (JSON)"}),(0,a.jsx)("p",{className:"mt-1 mb-2 text-xs text-zinc-500",children:"Additional configuration (model, temperature, task, constraints, etc.)"}),(0,a.jsx)(m.u,{value:e.metadata||{},onChange:s=>t({...e,metadata:s}),label:"Metadata"}),(0,a.jsxs)("div",{className:"mt-2 p-3 bg-zinc-900/50 rounded text-xs text-zinc-400",children:[(0,a.jsx)("strong",{children:"Example:"}),(0,a.jsx)("pre",{className:"mt-1 text-zinc-500",children:`{
  "model": "gpt-4",
  "temperature": 0.7,
  "task": "sentiment_analysis",
  "constraints": "Must return valid JSON",
  "owner": "team-ai"
}`})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t border-zinc-800",children:[(0,a.jsx)(S(),{href:"/prompts",children:(0,a.jsx)(n.$,{type:"button",variant:"outline",children:"Cancel"})}),(0,a.jsxs)(n.$,{type:"submit",disabled:z,className:"bg-white text-black hover:bg-zinc-200",children:[(0,a.jsx)(_.A,{className:"mr-2 h-4 w-4"}),z?"Creating...":"Create Prompt"]})]})]})})})]})})}},7722:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5512),r=s(8009),i=s(4195);let n=r.forwardRef(({className:e,type:t,...s},r)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));n.displayName="Input"},7271:(e,t,s)=>{"use strict";s.d(t,{J:()=>m});var a=s(5512),r=s(8009);s(5740);var i=s(9383),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=r.forwardRef((e,s)=>{let{asChild:r,...n}=e,l=r?i.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l,{...n,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),l=r.forwardRef((e,t)=>(0,a.jsx)(n.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var c=s(1643),o=s(4195);let d=(0,c.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(l,{ref:s,className:(0,o.cn)(d(),e),...t}));m.displayName=l.displayName},3872:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/shraddharao/Development/code/Work/headstarter/Self-Improving-Prompt-Optimization-API/frontend/src/app/prompts/create/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/shraddharao/Development/code/Work/headstarter/Self-Improving-Prompt-Optimization-API/frontend/src/app/prompts/create/page.tsx","default")},1894:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4825).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6753:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4825).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6335:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4825).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,8,77,95],()=>s(9724));module.exports=a})();