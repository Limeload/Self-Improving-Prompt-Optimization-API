(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1299:(e,s,t)=>{Promise.resolve().then(t.bind(t,1382))},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},1382:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(2115),n=t(6046),l=t(1410),i=t(3312),c=t(9749),d=t(2849),o=t(5086),m=t(1983);let x=(0,t(4057).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var h=t(2970),p=t(1560),u=t(1598),j=t(2517),v=t(8173),N=t.n(v);function f(){let e=(0,n.useParams)(),s=e.name?decodeURIComponent(e.name):"",[t,v]=(0,r.useState)("overview"),[f,_]=(0,r.useState)(null),[k,S]=(0,r.useState)([]),[Z,A]=(0,r.useState)(!0),{toast:P}=(0,d.dj)(),M=async()=>{try{A(!0),console.log("Loading prompt with name:",s);let[e,t]=await Promise.all([l.u.prompts.get(s).catch(e=>{throw console.error("Error loading prompt:",e),e}),l.u.prompts.getVersions(s).catch(()=>[])]);e&&_(e),S(t)}catch(s){let e=s instanceof Error?s.message:"Failed to load prompt";console.error("Failed to load prompt data:",s),P({title:"Error",description:e,variant:"destructive"})}finally{A(!1)}};(0,r.useEffect)(()=>{s&&M()},[s]);let C=[{id:"overview",label:"Overview",icon:(0,a.jsx)(m.A,{className:"h-4 w-4"})},{id:"versions",label:"Versions",icon:(0,a.jsx)(x,{className:"h-4 w-4"})},{id:"evaluations",label:"Evaluations",icon:(0,a.jsx)(h.A,{className:"h-4 w-4"})},{id:"improve",label:"Improve",icon:(0,a.jsx)(p.A,{className:"h-4 w-4"})},{id:"history",label:"History",icon:(0,a.jsx)(x,{className:"h-4 w-4"})}];return Z?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-zinc-900 to-black",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:(0,a.jsx)(c.Zp,{className:"p-6",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"Loading prompt..."})})})}):f?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-zinc-900 to-black",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(N(),{href:"/prompts",className:"mb-4 inline-flex items-center text-zinc-400 hover:text-white",children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Back to Prompts"]}),(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:f.name}),(0,a.jsx)(o.qs,{status:f.status})]}),(0,a.jsxs)("p",{className:"text-zinc-400",children:["Version ",f.version]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(N(),{href:"/prompts/".concat(encodeURIComponent(s),"/run"),children:(0,a.jsxs)(i.$,{variant:"outline",children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Run Inference"]})}),(0,a.jsx)(N(),{href:"/prompts/evaluate?prompt=".concat(encodeURIComponent(s)),children:(0,a.jsxs)(i.$,{variant:"outline",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Evaluate"]})})]})]})]}),(0,a.jsx)("div",{className:"mb-6 border-b border-zinc-800",children:(0,a.jsx)("div",{className:"flex gap-1 -mb-px",children:C.map(e=>(0,a.jsxs)("button",{onClick:()=>v(e.id),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat(t===e.id?"border-blue-500 text-blue-400":"border-transparent text-zinc-400 hover:text-zinc-300 hover:border-zinc-700"),children:[e.icon,e.label]},e.id))})}),(0,a.jsxs)("div",{children:["overview"===t&&(0,a.jsx)(b,{prompt:f}),"versions"===t&&(0,a.jsx)(w,{prompt:f,versions:k}),"evaluations"===t&&(0,a.jsx)(g,{promptName:s}),"improve"===t&&(0,a.jsx)(y,{promptName:s}),"history"===t&&(0,a.jsx)(z,{})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-zinc-900 to-black",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:(0,a.jsxs)(c.Zp,{className:"p-6",children:[(0,a.jsx)("p",{className:"text-zinc-400",children:"Prompt not found"}),(0,a.jsx)(N(),{href:"/prompts",children:(0,a.jsx)(i.$,{variant:"outline",className:"mt-4",children:"Back to Prompts"})})]})})})}function b(e){let{prompt:s}=e;return s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-white",children:"Prompt Template"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("pre",{className:"text-sm font-mono text-zinc-300 bg-zinc-950 p-4 rounded overflow-x-auto whitespace-pre-wrap",children:s.template_text||"(No template text)"})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[s.input_schema||s.output_schema?(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-white",children:"Schemas"})}),(0,a.jsxs)(c.Wu,{className:"space-y-4",children:[s.input_schema?(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Input Schema"}),(0,a.jsx)("pre",{className:"text-xs font-mono text-zinc-300 bg-zinc-950 p-3 rounded overflow-x-auto",children:JSON.stringify(s.input_schema,null,2)})]}):null,s.output_schema?(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-zinc-400 mb-2",children:"Output Schema"}),(0,a.jsx)("pre",{className:"text-xs font-mono text-zinc-300 bg-zinc-950 p-3 rounded overflow-x-auto",children:JSON.stringify(s.output_schema,null,2)})]}):null]})]}):(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-white",children:"Schemas"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("p",{className:"text-zinc-400 text-sm",children:"No schemas defined"})})]}),s.metadata?(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-white",children:"Metadata"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("pre",{className:"text-xs font-mono text-zinc-300 bg-zinc-950 p-3 rounded overflow-x-auto",children:JSON.stringify(s.metadata,null,2)})})]}):(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-white",children:"Metadata"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsx)("p",{className:"text-zinc-400 text-sm",children:"No metadata defined"})})]})]}),(0,a.jsxs)(c.Zp,{children:[(0,a.jsx)(c.aR,{children:(0,a.jsx)(c.ZB,{className:"text-white",children:"Timestamps"})}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-zinc-400",children:"Created:"})," ",(0,a.jsx)("span",{className:"text-white",children:s.created_at?new Date(s.created_at).toLocaleString():"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-zinc-400",children:"Updated:"})," ",(0,a.jsx)("span",{className:"text-white",children:s.updated_at?new Date(s.updated_at).toLocaleString():"N/A"})]})]})})]})]}):(0,a.jsx)(c.Zp,{className:"p-6",children:(0,a.jsx)("p",{className:"text-zinc-400",children:"No prompt data available"})})}function w(e){let{prompt:s,versions:t}=e;return(0,a.jsx)("div",{children:(0,a.jsx)(o.c7,{versions:t,currentVersionId:s.id})})}function g(e){let{promptName:s}=e,[t]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{l(!1)},[s]),n)?(0,a.jsx)(c.Zp,{className:"p-6",children:"Loading evaluations..."}):0===t.length?(0,a.jsx)(c.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-zinc-400 mb-4",children:"No evaluations yet"}),(0,a.jsx)(N(),{href:"/prompts/evaluate?prompt=".concat(encodeURIComponent(s)),children:(0,a.jsx)(i.$,{children:"Run Evaluation"})})]})}):(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)(c.Zp,{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Evaluation #",e.id]}),(0,a.jsx)("p",{className:"text-sm text-zinc-400",children:new Date(e.created_at).toLocaleString()})]}),(0,a.jsx)(o.wr,{label:"Overall Score",value:e.overall_score||0,variant:(e.overall_score||0)>=.8?"success":(e.overall_score||0)>=.6?"warning":"danger"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-4 mb-4",children:[(0,a.jsx)(o.wr,{label:"Correctness",value:e.correctness_score||0,variant:"default"}),(0,a.jsx)(o.wr,{label:"Format",value:e.format_score||0,variant:"default"}),(0,a.jsx)(o.wr,{label:"Verbosity",value:e.verbosity_score||0,variant:"default"}),(0,a.jsx)(o.wr,{label:"Safety",value:e.safety_score||0,variant:"default"}),(0,a.jsx)(o.wr,{label:"Consistency",value:e.consistency_score||0,variant:"default"})]})]}),e.results&&e.results.length>0&&(0,a.jsx)(o.t,{results:e.results,showDetails:!0})]},e.id))})}function y(e){let{promptName:s}=e;return(0,a.jsx)(c.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-zinc-400 mb-4",children:"Trigger self-improvement for this prompt"}),(0,a.jsx)(N(),{href:"/prompts/improve?prompt=".concat(encodeURIComponent(s)),children:(0,a.jsxs)(i.$,{children:[(0,a.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Start Improvement"]})})]})})}function z(){return(0,a.jsx)(c.Zp,{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-zinc-400 mb-4",children:"History and audit log coming soon"}),(0,a.jsx)("p",{className:"text-sm text-zinc-500",children:"This will show all actions, promotions, and changes for this prompt"})]})})}},1598:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2970:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(4057).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[173,440,61,441,517,358],()=>s(1299)),_N_E=e.O()}]);